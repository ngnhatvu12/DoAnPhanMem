@model DoAnPhanMem.ViewModels.ProductDetailViewModel2

@{
    ViewData["Title"] = Model.SanPham.TenSanPham;
    Layout = "~/Views/Shared/_LayoutOgani2.cshtml";

}

    <div class="container">
        <div class="left-column">
            <div class="product-image">
                @if (!string.IsNullOrEmpty(Model.SanPham.HinhAnh))
                {
                    <img src="~/LayoutOgani/img/@Model.SanPham.HinhAnh" alt="@Model.SanPham.TenSanPham" class="main-product-image" />
                }
                else
                {
                    <img src="~/img/no-image.png" alt="No Image" />
                }
            </div>
            <div class="thumbnail-images">
            @foreach (var ctp in Model.ChiTietSanPhamList)
            {
                <img src="~/LayoutOgani/img/@ctp.HinhAnhBienThe" alt="Ảnh biến thể" />
            }
            </div>
        </div>
        <div class="right-column">
            <div class="product-title">
                @Model.SanPham.TenSanPham
            </div>
            <div class="product-code">
                Mã sản phẩm: @Model.SanPham.MaSanPham
            </div>
            <div class="price">
                Giá gốc: <span class="original-price">@Model.SanPham.GiaBan đ</span>
                @if (Model.SanPham.GiaGiam > 0)
                {
                    <span class="discount-price">Giá giảm: @Model.SanPham.GiaGiam đ</span>
                }
            </div>
        <div class="product-description">
            <h2>Mô tả chi tiết</h2>
            <p>@Model.SanPham.MoTa</p>
        </div>
            <div class="size-selection">
                <span>Size:</span>
                <select id="size-selector">
                @foreach (var ctp in Model.ChiTietSanPhamList.Select(c => c.TenKichThuoc).Distinct())
                {
                    <option value="@ctp">@ctp</option>
                }
                </select>
            </div>
            <div class="color-selection">
                <span>Màu sắc:</span>
                <select id="color-selector">
                @foreach (var ctp in Model.ChiTietSanPhamList.Select(c => c.TenMauSac).Distinct())
                {
                    <option value="@ctp">@ctp</option>
                }
                </select>
            </div>
            <div class="quantity">
                <span>Số lượng:</span>
                <button>-</button>
                <input type="text" value="1" />
                <button>+</button>
            </div>
            <button class="buy-now" onclick="orderProduct()">MUA NGAY</button>
            <a href="/Cart/AddToCart?id=@Model.SanPham.MaSanPham" class="btn btn-add-to-cart">
                <i class="fa fa-shopping-cart"></i> Thêm vào giỏ hàng
            </a>
            <ul class="services">
                <li><i class="fas fa-truck"></i> GIAO HÀNG MIỄN PHÍ</li>
                <li><i class="fas fa-sync-alt"></i> ĐỔI TRẢ MIỄN PHÍ</li>
                <li><i class="fas fa-credit-card"></i> THANH TOÁN</li>
                <li><i class="fas fa-phone"></i> HỖ TRỢ MUA NHANH: 0975481014</li>
            </ul>
            <div class="info">
                <strong>ZSTYLE</strong> xin cam kết về chất lượng trong từng sản phẩm, chúng tôi tuyệt đối không bán hàng fake, hàng kém chất lượng. Nếu quý khách nhận thấy hàng không đúng như mô tả, chúng tôi sẽ tiến hành cho đổi trả và hoàn tiền 100%. Sản phẩm trên hình có thể khác ngoài đời do ánh sáng và góc độ chụp ảnh.
            </div>
        </div>
    </div>
<div class="comments-section">
    <h3>Đánh giá sản phẩm</h3>
    @foreach (var danhGia in Model.DanhGiaList)
    {
        <div class="comment-item">
            <p><strong>@danhGia.TenKhachHang</strong> - <small>@danhGia.NgayDanhGia.ToString("dd/MM/yyyy")</small></p>
            <div class="star-rating">
                @for (int i = 1; i <= 5; i++)
                {
                    <span class="star @(i <= danhGia.SoDiem ? "star-gold" : "star-gray")">&#9733;</span>
                }
            </div>
            <p>@danhGia.BinhLuan</p>
        </div>
    }
</div>

<script>
    function orderProduct() {
        // Logic đặt hàng có thể được thêm vào đây
        alert("Sản phẩm đã được đặt hàng!");
    }
</script>
<style>
    .product-description,
    .comments-section {
        margin-top: 30px;
    }

        .comments-section h3 {
            font-size: 1.5rem;
            color: #333;
        }

    .comment-item {
        padding: 10px;
        border-bottom: 1px solid #ddd;
        margin-bottom: 10px;
    }

        .comment-item .star-rating {
            display: inline-block;
            color: #FFD700; /* Màu vàng */
        }

    .star-gold {
        color: gold;
    }

    .star-gray {
        color: lightgray;
    }

    body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        margin: 0;
        padding: 0;
    }

    .header {
        background-color: #333;
        color: white;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

        .header .logo {
            font-size: 24px;
            font-weight: bold;
        }

        .header .contact {
            background-color: #e60000;
            padding: 5px 10px;
            border-radius: 5px;
        }

    .container {
        max-width: 100%;
        display: flex;
        padding: 20px;
    }

    .left-column {
        flex: 1;
        padding-right: 20px;
    }

    .right-column {
        flex: 1.5;
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .product-title {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .product-code {
        color: #888;
        margin-bottom: 20px;
    }

    .price {
        font-size: 24px;
        color: #e60000;
        margin-bottom: 20px;
    }

    .features {
        margin-bottom: 20px;
    }

        .features li {
            margin-bottom: 10px;
        }

    .size-selection {
        margin-bottom: 20px;
    }

        .size-selection span {
            margin-right: 10px;
        }

        .size-selection button {
            margin-right: 5px;
            padding: 5px 10px;
            border: 1px solid #ccc;
            background-color: white;
            cursor: pointer;
        }

    .color-selection {
        margin-bottom: 20px;
    }

        .color-selection img {
            width: 50px;
            height: 50px;
            margin-right: 10px;
            cursor: pointer;
        }

    .quantity {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }

        .quantity input {
            width: 50px;
            text-align: center;
            margin: 0 10px;
        }

    .buy-now {
        background-color: #e60000;
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        font-size: 16px;
    }

    .info {
        margin-top: 20px;
        font-size: 14px;
        color: #888;
    }

        .info strong {
            color: black;
        }

    .product-image {
        text-align: center;
    }

        .product-image img {
            width: 100%;
            max-width: 600px;
        }

    .thumbnail-images {
        display: flex;
        justify-content: center;
        margin-top: 10px;
    }

        .thumbnail-images img {
            width: 50px;
            height: 50px;
            margin: 0 5px;
            cursor: pointer;
        }

    .services {
        margin-top: 20px;
    }

        .services li {
            margin-bottom: 10px;
        }

        .services i {
            color: #e60000;
            margin-right: 10px;
        }
</style>